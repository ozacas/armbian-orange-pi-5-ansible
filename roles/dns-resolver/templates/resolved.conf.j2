# Use 'systemd-analyze cat-config systemd/resolved.conf' to display the full config.
#
# See resolved.conf(5) for details.

[Resolve]
# Some examples of DNS servers which may be used for DNS= and FallbackDNS=:
# Cloudflare: 1.1.1.1#cloudflare-dns.com 1.0.0.1#cloudflare-dns.com 2606:4700:4700::1111#cloudflare-dns.com 2606:4700:4700::1001#cloudflare-dns.com
# Google:     8.8.8.8#dns.google 8.8.4.4#dns.google 2001:4860:4860::8888#dns.google 2001:4860:4860::8844#dns.google
# Quad9:      9.9.9.9#dns.quad9.net 149.112.112.112#dns.quad9.net 2620:fe::fe#dns.quad9.net 2620:fe::9#dns.quad9.net
{% if dns_primary_servers is defined and dns_primary_servers|length > 0 %}
DNS={{' '.join(dns_primary_servers)}}
{% endif %}
{% if dns_fallback_servers is defined and dns_fallback_servers|length > 0 %}
FallbackDNS={{' '.join(dns_fallback_servers)}}
{% endif %}
#Domains=
#DNSSEC=no
#DNSOverTLS=no
MulticastDNS={{dns_multicast|bool|ternary('yes', 'no')}}
#LLMNR=no
{% if dns_cache|bool %}
Cache=no-negative
ReadEtcHosts=yes
{% endif %}
#CacheFromLocalhost=no
DNSStubListener=yes
#DNSStubListenerExtra=

#ResolveUnicastSingleLabel=no
#StaleRetentionSec=0

